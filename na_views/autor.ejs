<%- include("templates/cabecera.ejs")%>
<link rel="stylesheet" href="css/estilo.css">
<div class="container">
    <div class="shadow-lg pb-3 mb-5 bg-body rounded mt-4 bg-white">
        <br>
        <h2 class="ml-3 text-primary">Datos de Autor</h2>
        <br>
        <form action="/insertarautor" method="post">
            <div class="row">
                <div class="col-md-2 ml-3">
                    <label for="codigo" class="form-label" >IdAutor:</label>
                    <input type="text" name="aut" id="aut" class="form-control" required>
                </div>
                <div class="col-md-2 ml-3">
                    <label for="codigo" class="form-label" >Nombre:</label>
                    <input type="text" name="nom" id="nom" class="form-control" required>
                </div>
                <div class="col-md-2 ml-3">
                    <label for="codigo" class="form-label" >Apellido:</label>
                    <input type="text" name="ape" id="ape" class="form-control" required>
                </div>
                <div class="col-md-2 ml-3">
                    <label for="codigo" class="form-label" >Pais:</label>
                    <input type="text" name="pa" id="pa" class="form-control" required>
                </div>
            </div><button type="submit" class="btn btn-primary ml-3 mt-4">Registrar Libro</button>
        </form>
    </div>
    <table class="table table-hover mt-4">
        <thead class="bg-primary text-white text-center">
            <tr>
                <th>IdAutor</th>
                <th>Nombre</th>
                <th>Apellido</th>
                <th>Pais</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody class="text-center bg-white">
            <% autores.forEach((autor) =>{ %>
            <tr>
                <td style="display: none;"><%= autor._id%></td>
                <td><%= autor.idAutor%></td>
                <td><%= autor.nombre%></td>
                <td><%= autor.apellido%></td>
                <td><%= autor.pais%></td>
                <td>
                    <a type="button" class="btnEditaru btn btn-success">Editar</a>
                    <a href="/eliminarautor/<%=autor._id%>" class="btn btn-danger">Eliminar</a>
                </td>
            </tr>
            <% }) %>
        </tbody>
    </table>
</div>
<!-- The Modal -->
<div class="modal fade" id="modalAutor">
    <div class="modal-dialog">
      <div class="modal-content">
        <!-- Modal Header -->
        <div class="modal-header bg-primary text-white">
          <h2 class="modal-title ">Editar Editorial</h2>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        <!-- Modal body -->
        <div class="modal-body">
          <form action="/editarautor" method="post">
            <input type="text" id="e_id" name="e_id" class="form-control" hidden>
            <div class="mb-3">
                <label for="codigo" class="form-label" >IdAutor:</label>
                <input type="text" name="e_aut" id="e_aut" class="form-control" required>
            </div>
            <div class="mb-3">
                <label for="codigo" class="form-label" >Nombre:</label>
                <input type="text" name="e_nom" id="e_nom" class="form-control" required>
            </div>
            <div class="mb-3">
                <label for="codigo" class="form-label" >Apellido:</label>
                <input type="text" name="e_ape" id="e_ape" class="form-control" required>
            </div>
            <div class="mb-3">
                <label for="codigo" class="form-label" >Pais:</label>
                <input type="text" name="e_pa" id="e_pa" class="form-control" required>
            </div>
            <!-- Modal footer -->
            <div class="modal-footer">
                <button type="submit" class="btn btn-primary">Actualizar</button>
            </div>
          </form>
        </div>
      </div>
    </div>
</div>
<script src="js/autor.js"></script>
